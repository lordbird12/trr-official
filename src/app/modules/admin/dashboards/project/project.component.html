<div class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-hidden dark:bg-transparent">
    <div
        class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-5 sm:py-6 sm:px-10 border-b bg-card dark:bg-transparent">
        <div class="flex-1 min-w-0">
            <!-- Breadcrumbs -->
            <div class="flex flex-wrap items-center font-medium">
                <div>
                    <a class="whitespace-nowrap text-black-500">ผู้รับเหมา</a>
                </div>
                <div class="flex items-center ml-1 whitespace-nowrap">/
                    <a class="ml-1 text-black-500">รายชื่อเกษตรกร</a>
                </div>
            </div>
        </div>
    </div>
    <table datatable [dtOptions]="dtOptions" class="table row-border hover w-full">
    </table>
    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full mx-auto">
            <!-- <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12">

                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
                        <img class="w-full h-full object-cover" src="assets/images/avatars/brian-hughes.jpg">
                    </div>
                    <div class="flex flex-col min-w-0 ml-4">
                        <ng-container *transloco="let t">
                            <div
                                class="text-2xl md:text-5xl font-semibold tracking-tight leading-7 md:leading-snug truncate">
                                {{t('ยินดีต้อนรับ')}} Admin</div>
                        </ng-container>
                        <div class="flex items-center">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:bell'"></mat-icon>
                            <div class="ml-1.5 leading-6 truncate text-secondary">คุณมี 15 การแจ้งเตือน</div>
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- <div
                class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-5 sm:py-6 sm:px-10 border-b bg-card dark:bg-transparent">
                <div class="flex-1 min-w-0">

                    <div class="flex flex-wrap items-center font-medium">
                        <div>
                            <a class="whitespace-nowrap text-black-500">เกษตรกร</a>
                        </div>
                        <div class="flex items-center ml-1 whitespace-nowrap">/
                            <a class="ml-1 text-black-500">รายชื่อเกษตรกร</a>
                        </div>
                        <div class="flex items-center ml-1 whitespace-nowrap">/
                            <a class="ml-1 text-black-500">ชื่อ - นามสกุล</a>
                        </div>
                    </div>
                </div>
            </div> -->

            <div
                class="flex flex-col mt-5 sm:flex-row flex-0 sm:items-center sm:justify-between p-5 sm:py-6 sm:px-10 border-b bg-card dark:bg-transparent">
                <div class="flex-1 min-w-0">
                    <!-- Breadcrumbs -->
                    <div class="flex flex-wrap items-center font-medium">
                        <div class="flex-0 w-30 h-30 rounded-full overflow-hidden">
                            <img class="w-full h-full object-cover" src="assets/images/avatars/brian-hughes.jpg">
                        </div>
                        <div class="flex flex-row items-start ml-5 whitespace-nowrap">
                            <div class="grid grid-cols-2">
                                <div class="col-span-2 text-4xl font-semibold">
                                    {{this.itemData?.First_name ?? '-'}} {{this.itemData?.Last_name ?? '-'}}
                                </div>
                                <div>
                                    <p class="text-xl font-semibold">เลขบัตรประชาชน</p>
                                </div>
                                <div>
                                    <p class="text-xl font-normal">{{this.itemData?.id_card_number ?? '-'}}</p>
                                </div>
                                <div>
                                    <p class="text-xl font-semibold">เลขที่สัญญา</p>
                                </div>
                                <div>
                                    <p class="text-xl font-normal">{{this.itemData?.Quota_id ?? '-'}}</p>
                                </div>
                                <div>
                                    <p class="text-xl font-semibold">เลขที่สอน</p>
                                </div>
                                <div>
                                    <p class="text-xl font-normal">111111</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-row items-start ml-20 whitespace-nowrap mt-12">
                            <div class="grid grid-row-1">
                                <div class="text-4xl font-semibold"></div>
                                <div>
                                    <p class="text-xl font-semibold">ที่อยู่</p>
                                </div>
                                <div>
                                    <p class="text-xl font-semibold">เบอร์โทรติดต่อ</p>
                                </div>
                                <div>
                                    <p class="text-xl font-semibold">โรงงาน</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-row items-start ml-5 whitespace-nowrap mt-12">
                            <div class="grid grid-row-1">
                                <div class="text-4xl "></div>
                                <div>
                                    <p class="text-xl font-normal">25 ถ.สาทรใต้ แขวงสาทร เขตสาทร กรุงเทพมหานคร 10120</p>
                                </div>
                                <div>
                                    <p class="text-xl font-normal">{{this.itemData?.phone_number ?? '-'}}</p>
                                </div>
                                <div>
                                    <p class="text-xl font-normal">{{this.itemData?.area ?? '-'}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Project selector -->
            <!-- <div class="relative flex self-start pt-2 pb-1 pl-5 pr-4 cursor-pointer overflow-hidden rounded-t-xl border border-b-0 bg-default" matRipple [matMenuTriggerFor]="projectsMenu">
                <div class="flex items-center">
                    <div class="overflow-hidden">
                        <div class="font-medium leading-6 truncate">{{selectedProject}}</div>
                    </div>
                    <div class="flex items-center justify-center pl-2">
                        <mat-icon class="icon-size-5" [svgIcon]="'heroicons_mini:chevron-down'"></mat-icon>
                    </div>
                </div>
                <mat-menu #projectsMenu="matMenu" [xPosition]="'before'">
                    <button mat-menu-item (click)="selectedProject='ACME Corp. Backend App'">ACME Corp. Backend App
                    </button>
                    <button mat-menu-item (click)="selectedProject='ACME Corp. Frontend App'">ACME Corp. Frontend App
                    </button>
                    <button mat-menu-item (click)="selectedProject='Creapond'">Creapond
                    </button>
                    <button mat-menu-item (click)="selectedProject='Withinpixels'">Withinpixels
                    </button>
                </mat-menu>
            </div> -->
        </div>
    </div>

    <!-- Main -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6 overflow-auto">
        <div class="w-full mx-auto">
            <!-- Tabs -->
            <mat-tab-group (selectedTabChange)="onTabChange($event)" class="sm:px-2" mat-stretch-tabs="true"
                [animationDuration]="'0'">
                <!-- Home -->
                <mat-tab label="Dashboard">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <!-- Github issues summary -->
                            <div
                                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">ประจำสัปดาห์
                                    </div>
                                    <div class="mt-3 sm:mt-0 sm:ml-2">
                                        <mat-button-toggle-group value="this-week"
                                            #githubIssuesWeekSelector="matButtonToggleGroup">
                                            <mat-button-toggle value="last-week">ย้อนหลัง</mat-button-toggle>
                                            <mat-button-toggle value="this-week">ปัจจุบัน</mat-button-toggle>
                                        </mat-button-toggle-group>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 lg:grid-cols-2 grid-flow-row gap-6 w-full mt-8 sm:mt-4">
                                    <!-- New vs. Closed -->
                                    <div class="flex flex-col flex-auto">
                                        <div class="font-medium text-secondary">New vs. Closed</div>
                                        <div class="flex flex-col flex-auto">
                                            <apx-chart class="flex-auto w-full h-80" [chart]="chartGithubIssues.chart"
                                                [colors]="chartGithubIssues.colors"
                                                [dataLabels]="chartGithubIssues.dataLabels"
                                                [grid]="chartGithubIssues.grid" [labels]="chartGithubIssues.labels"
                                                [legend]="chartGithubIssues.legend"
                                                [plotOptions]="chartGithubIssues.plotOptions"
                                                [series]="chartGithubIssues.series[githubIssuesWeekSelector.value]"
                                                [states]="chartGithubIssues.states" [stroke]="chartGithubIssues.stroke"
                                                [tooltip]="chartGithubIssues.tooltip" [xaxis]="chartGithubIssues.xaxis"
                                                [yaxis]="chartGithubIssues.yaxis"></apx-chart>
                                        </div>
                                    </div>
                                    <!-- Overview -->
                                    <div class="flex flex-col">
                                        <div class="font-medium text-secondary">ข้อมูลสรุป</div>
                                        <div class="flex-auto grid grid-cols-4 gap-4 mt-6">
                                            <!-- New issues -->
                                            <div
                                                class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-indigo-50 text-indigo-800 dark:bg-white dark:bg-opacity-5 dark:text-indigo-400">
                                                <div
                                                    class="text-5xl sm:text-7xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['new-issues']}}
                                                </div>
                                                <div class="mt-1 text-sm sm:text-lg font-medium">New Issues</div>
                                            </div>
                                            <!-- Closed -->
                                            <div
                                                class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-green-50 text-green-800 dark:bg-white dark:bg-opacity-5 dark:text-green-500">
                                                <div
                                                    class="text-5xl sm:text-7xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['closed-issues']}}
                                                </div>
                                                <div class="mt-1 text-sm sm:text-lg font-medium">Closed</div>
                                            </div>
                                            <!-- Fixed -->
                                            <div
                                                class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                                                <div class="text-5xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['fixed']}}
                                                </div>
                                                <div class="mt-1 text-sm font-medium text-center">Fixed</div>
                                            </div>
                                            <!-- Won't fix -->
                                            <div
                                                class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                                                <div class="text-5xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['wont-fix']}}
                                                </div>
                                                <div class="mt-1 text-sm font-medium text-center">Won't Fix</div>
                                            </div>
                                            <!-- Re-opened -->
                                            <div
                                                class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                                                <div class="text-5xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['re-opened']}}
                                                </div>
                                                <div class="mt-1 text-sm font-medium text-center">Re-opened</div>
                                            </div>
                                            <!-- Needs triage -->
                                            <div
                                                class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                                                <div class="text-5xl font-semibold leading-none tracking-tight">
                                                    {{data.githubIssues.overview[githubIssuesWeekSelector.value]['needs-triage']}}
                                                </div>
                                                <div class="mt-1 text-sm font-medium text-center">Needs Triage</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="ปริมาณการผลิต">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div
                                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>
                                    <div class="mt-3 sm:mt-0 sm:ml-2">
                                        <mat-button-toggle-group value="this-week"
                                            #githubIssuesWeekSelector="matButtonToggleGroup" class="bg-black-300">
                                            <mat-button-toggle value="this-week">2533-2564
                                                <mat-icon svgIcon="heroicons_outline:calendar-days"></mat-icon>
                                            </mat-button-toggle>
                                        </mat-button-toggle-group>
                                    </div>
                                </div>
                                <ol class="relative border-s-2 border-[#122437] dark:border-gray-700">
                                    <li class="mb-10 ms-4" *ngFor="let item of profile; let i = index">
                                        <div
                                            class="absolute w-3 h-3 bg-[#122437] rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-[#122437]">
                                        </div>
                                        <time
                                            class="ml-5 mb-4 text-base font-semibold leading-none text-gray-500 dark:text-gray-500 ">{{item.year}}</time>
                                        <div class="flex flex-row justify-between border-b-2 mt-5">
                                            <div class="ml-5">
                                                <p class="mb-4  text-base font-normal text-gray-500 dark:text-gray-400">
                                                    ผลผลิต : {{item.product}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    สัญญอ้อย : {{item.product_ref}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    จำนวนแปลง : {{item.station_total}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    พื้นที่ทั้งหมด : {{item.area_total}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    พื้นที่เข้าร่วมโคตรงการ BONSUCRO : {{item.area_bonsucro}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    พื้นที่เข้าร่วมโครงการ GETS FARMING : {{item.area_gets}}</p>
                                                <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                                                    ประมาณการณ์ผลิตอ้อย : {{item.estimate_product}}</p>
                                            </div>
                                            <div class="flex w-100 mt-30 justify-center font-semibold">
                                                <div class="flex flex-col ">
                                                    <div class="flex justify-center">
                                                        <p class="mb-4 text-xl text-gray-500 dark:text-gray-400">
                                                            ค่า CCS เฉลี่ย </p>
                                                    </div>
                                                    <div class="flex justify-center">
                                                        <p class="mb-4 text-xl text-gray-500 dark:text-gray-400">
                                                            {{item.ccs_mean}} </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="แปลงของฉัน">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div
                                class="sm:col-span-2 md:col-span-3 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>
                                </div>
                                <div>
                                    <full-calendar [options]="calendarOptions1"></full-calendar>
                                </div>
                            </div>
                            <div
                                class="sm:col-span-1 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-center justify-between mb-3">
                                    <div
                                        class="flex items-center justify-center text-lg font-medium tracking-tight leading-6 truncate w-full">
                                        <span class="text-center">แสดงข้อมูล CCS</span>
                                    </div>
                                </div>
                                <mat-divider class="w-full mb-3"></mat-divider>
                                <div>
                                    <div class="sm:col-span-1 flex flex-col flex-auto p-2 bg-[#0e1f3d] shadow rounded-md overflow-hidden text-white mb-2"
                                        *ngFor="let item of myplot; let i = index">
                                        <div class="flex flex-row justify-between  text-sm">
                                            <div class="">
                                                <p class=" text-white">{{item.selectdate ?? ''}}</p>
                                            </div>
                                            <div class="">
                                                <p class=" text-white">แปลงที่ : {{item.plotsugar_id ?? ''}}</p>
                                            </div>
                                        </div>
                                        <ng-container *ngIf="item.activitytype == 0">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-3/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ไถและเตรียมดิน
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทการไถ : {{item.plowingtype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.insecticidecost || 0) + (+item.laborwages
                                                        ||
                                                        0) + (+item.equipmentrent || 0) + (+item.fuelcost || 0) || '-'
                                                        }}
                                                    </p>
                                                </div>
                                                <!-- <div class="flex w-1/3 justify-center font-semibold ">
                                                    <div class="flex flex-col border-l-[2px] my-5">
                                                        <div class="flex justify-center ml-4 items-center">
                                                            <p class=" text-sm text-white">
                                                                ค่า  </p>
                                                        </div>
                                                        <div class="flex justify-center">
                                                            <p class="text-center text-sm text-white">
                                                                {{ ((item.insecticidecost ?? 0) + (item.laborwages ?? 0) + (item.equipmentrent ?? 0) + (item.fuelcost ?? 0)) || '-' }}
                                                              </p>
                                                              
                                                        </div>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 1">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ปลูกอ้อย
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        พันธุ์อ้อย : {{item.sugarcane ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ระบบการปลูก : {{item.plantingsystem ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.expenses || 0) + (+item.sugartypecost ||
                                                        0) + (+item.sugarcaneplantingcost || 0) + (+item.fertilizercost
                                                        || 0) + (+item.fuelcost || 0) || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 2">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ให้น้ำ
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ระบบน้ำ : {{item.wateringsystem ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.laborwages || 0) + (+item.fuelcost || 0)
                                                        || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 3">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ฉีดพ่นน้ำหมักปุ๋ยยูเรีบ
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ปริมาณปุ๋ยยูเรียสูตรย่อยสลาย : {{item.fertilizerquantity ?? ''}}
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ปริมาณปุ๋ยยูเรียสูตรกำจัดวัชพืช : {{item.amountureafertilizer ??
                                                        ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.herbicidecost || 0) + (+item.laborwages
                                                        || 0) + (+item.fuelcost || 0) || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 4">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ฉีดพ่นสารกำจัดศัตรูพืช
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        วัชพืช : {{item.weed ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        โรคพืช : {{item.plantdiseases ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        แมลงศัตรูพืช : {{item.pests ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.laborwages || 0) + (+item.fuelcost || 0)
                                                        + (+item.pesticidecost || 0) || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 5">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ใส่ปุ๋ย
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ชนิดปุ๋ย : {{item.fertilizertype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ปริมาณปุ๋ย : {{item.fertilizerquantity ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.laborwages || 0) + (+item.fuelcost || 0)
                                                        || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 6">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ตัดอ้อย
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทการตัด : {{item.cuttingtype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugarcanetype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.sugarcanecuttinglabor || 0) +
                                                        (+item.fuelcost || 0) || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.activitytype == 7">
                                            <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                                <div class="w-2/3 text-sm">
                                                    <p class="mb-1  text-white ">
                                                        กิจกรรม : ขนส่งอ้อย
                                                    </p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ประเภทอ้อย : {{item.sugartype ?? ''}}</p>
                                                    <p class="mb-1  text-white border-t-[1px]">
                                                        ค่าใช้จ่าย : {{ (+item.laborwages || 0) + (+item.fuelcost || 0)
                                                        || '-'}}
                                                    </p>
                                                </div>
                                            </div>
                                        </ng-container>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="อ้อยปลูกใหม่">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div
                                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>

                                    <div class="mt-3 sm:mt-0 sm:ml-2 min-w-96">
                                        <mat-form-field class="w-full">
                                            <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                                                <input matStartDate formControlName="start" placeholder="วันที่เริ่ม">
                                                <input matEndDate formControlName="end" placeholder="วันที่สิ้นสุด">
                                            </mat-date-range-input>
                                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-date-range-picker #picker></mat-date-range-picker>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="flex flex-col sm:flex-row items-start">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>
                                    <div class="md:w-1/4">
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense px-2 w-full"
                                            [subscriptSizing]="'dynamic'">
                                            <mat-icon class="icon-size-5" matPrefix
                                                [svgIcon]="'heroicons_solid:magnifying-glass'"></mat-icon>
                                            <input matInput [formControl]="searchInputControl" [autocomplete]="'off'"
                                                [placeholder]="'ค้นหา'">
                                        </mat-form-field>
                                    </div>
                                    <div class="md:w-1/4">
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense w-full px-2">
                                            <mat-select [formControl]="plotControl">
                                                <mat-option [value]="">
                                                    ทั้งหมด
                                                </mat-option>
                                                <mat-option [value]="1">
                                                    แปลงที่ 1
                                                </mat-option>
                                                <mat-option [value]="2">
                                                    แปลงที่ 2
                                                </mat-option>
                                                <mat-option [value]="3">
                                                    แปลงที่ 3
                                                </mat-option>
                                                <mat-option [value]="4">
                                                    แปลงที่ 4
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="md:w-1/4">
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense w-full px-2">
                                            <mat-select [formControl]="activityControl">
                                                <mat-option [value]="">
                                                    ทั้งหมด
                                                </mat-option>
                                                <mat-option [value]="1">
                                                    ไถและเตรียมดิน
                                                </mat-option>
                                                <mat-option [value]="2">
                                                    ปลูกอ้อย
                                                </mat-option>
                                                <mat-option [value]="3">
                                                    ให้น้ำ
                                                </mat-option>
                                                <mat-option [value]="4">
                                                    ฉีดพ่นน้ำหมักปุ๋ยยูเรีย
                                                </mat-option>
                                                <mat-option [value]="5">
                                                    ฉีดพ่นสารกำจัดศัตรูพืช
                                                </mat-option>
                                                <mat-option [value]="6">
                                                    ใส่ปุ๋ย
                                                </mat-option>
                                                <mat-option [value]="7">
                                                    ตัดอ้อย
                                                </mat-option>
                                                <mat-option [value]="8">
                                                    ขนส่งอ้อย
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="flex flex-row" *ngFor="let item of cane; let i = index">
                                    <div>
                                        <div class="flex flex-col w-30 mt-[30px]">
                                            <span
                                                class="ml-5 mb-4 text-base font-semibold leading-none text-gray-500 dark:text-gray-500 ">{{item.date}}</span>
                                            <span
                                                class="ml-5 mb-4 text-base font-semibold leading-none text-gray-500 dark:text-gray-500 ">{{item.time}}</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-col w-full">
                                        <div class="flex">
                                            <ol
                                                class="relative border-s-2  border-[#122437] dark:border-gray-700 w-full">
                                                <li class="mb-10 ms-4 grid-cols-3">
                                                    <div
                                                        class="absolute -left-2.5 w-5 h-5 bg-[#122437] rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-[#122437]">
                                                    </div>
                                                    <div class="flex flex-row justify-between mt-5">
                                                        <!-- <div class="flex items-center ml-5 justify-center">
                                                            <p
                                                                class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                {{activity}}</p>
                                                        </div> -->
                                                        <!-- <div
                                                            class=" tracking-tight leading-7 sm:leading-10 truncate mb-5 first-line:">
                                                            <button (click)="goToedit(i)"
                                                                class="border-2 border-gray-900 rounded-md font-black hover:bg-slate-50 w-fit mx-2">
                                                                <span class="mx-5 text-gray-900">แก้ไข</span>
                                                            </button>
                                                            <button
                                                                class="border-2 border-red-500 rounded-md font-black hover:bg-slate-50 w-fit mx-2">
                                                                <span class="mx-5 text-red-600">ลบ</span>
                                                            </button>
                                                        </div> -->
                                                    </div>
                                                    <ng-container *ngIf="item.activitytype == 0">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ไถและเตรียมดิน</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        การปรับปรุงดิน {{item?.soilImprovement || "-"}}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ประเภทการไถ {{item?.plowingtype || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ชนิดการไถ {{item?.subtypeplowing || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าสารกำจัดศัตรูพืช {{item?.insecticidecost ||
                                                                        "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าจ้างแรงงาน {{item?.equipmentrent || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าเช่าอุปกรณ์ {{item?.laborwages || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าเชื้อเพลิง {{item?.fuelcost || "-"}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 1">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ปลูกอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">พันธุ์อ้อย {{ item?.sugarcane || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ระบบปลูก {{ item?.plantingsystem ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าใช้จ่าย {{ item?.expenses || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าพันธุ์อ้อย {{ item?.sugartypecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าปลูกอ้อย {{
                                                                        item?.sugarcaneplantingcost || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าปุ๋ย {{ item?.fertilizercost ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 2">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ให้น้ำ</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ระบบน้ำ {{ item?.wateringsystem ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>


                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 3">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ฉีดพ่นน้ำหมักปุ๋ยยูเรีย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ยยูเรีย {{
                                                                        item?.fertilizerquantity || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ส่วนผสมอื่นๆ {{
                                                                        item?.otheringredients || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ยยูเรีย {{
                                                                        item?.amountureafertilizer || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ยาฆ่าหญ้า {{ item?.herbicide || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทอื่นๆ {{ item?.othertypes ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าใช้จ่ายส่วนผสมอื่นๆ {{
                                                                        item?.otheringredientcosts || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่ายาฆ่าหญ้า {{ item?.herbicidecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 4">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ฉีดพ่นสารกำจัดศัตรูพืช</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">วัชพืช {{ item?.weed || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">โรคพืช {{ item?.plantdiseases || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">แมลงศัตรูพืช {{ item?.pests || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่ายาฆ่าแมลง {{ item?.pesticidecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 5">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ใส่ปุ๋ย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทปุ๋ย {{ item?.fertilizertype
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ย {{
                                                                        item?.fertilizerquantity || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 6">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ตัดอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทการตัด {{ item?.cuttingtype ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทอ้อย {{ item?.sugarcanetype ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงานตัดอ้อย {{
                                                                        item?.sugarcanecuttinglabor || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 7">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ขนส่งอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-8 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-2 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>

                                                    <mat-divider></mat-divider>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="อ้อยตอ">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div
                                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>

                                    <div class="mt-3 sm:mt-0 sm:ml-2 min-w-96">
                                        <mat-form-field class="w-full">
                                            <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                                                <input matStartDate formControlName="start" placeholder="วันที่เริ่ม">
                                                <input matEndDate formControlName="end" placeholder="วันที่สิ้นสุด">
                                            </mat-date-range-input>
                                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-date-range-picker #picker></mat-date-range-picker>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="flex flex-col sm:flex-row items-start">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>
                                    <div class="md:w-1/4">
                                        <!-- <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense px-2 w-full"
                                            [subscriptSizing]="'dynamic'">
                                            <mat-icon class="icon-size-5" matPrefix
                                                [svgIcon]="'heroicons_solid:magnifying-glass'"></mat-icon>
                                            <input matInput [formControl]="searchInputControl" [autocomplete]="'off'"
                                                [placeholder]="'ค้นหา'">
                                        </mat-form-field> -->
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense px-2 w-full"
                                            [subscriptSizing]="'dynamic'">
                                            <mat-icon class="icon-size-5" matPrefix
                                                [svgIcon]="'heroicons_solid:magnifying-glass'"></mat-icon>
                                            <input matInput [formControl]="searchInputControl" [autocomplete]="'off'"
                                                [placeholder]="'ค้นหา'">
                                        </mat-form-field>
                                    </div>
                                    <div class="md:w-1/4">
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense w-full px-2">
                                            <mat-select [formControl]="plotControl">
                                                <mat-option [value]="1">
                                                    แปลงที่ 1
                                                </mat-option>
                                                <mat-option [value]="2">
                                                    แปลงที่ 2
                                                </mat-option>
                                                <mat-option [value]="3">
                                                    แปลงที่ 3
                                                </mat-option>
                                                <mat-option [value]="4">
                                                    แปลงที่ 4
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="md:w-1/4">
                                        <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-dense w-full px-2">
                                            <mat-select [formControl]="activityControl">
                                                <mat-option [value]="1">
                                                    ไถและเตรียมดิน
                                                </mat-option>
                                                <mat-option [value]="2">
                                                    ปลูกอ้อย
                                                </mat-option>
                                                <mat-option [value]="3">
                                                    ให้น้ำ
                                                </mat-option>
                                                <mat-option [value]="4">
                                                    ฉีดพ่นน้ำหมักปุ๋ยยูเรีย
                                                </mat-option>
                                                <mat-option [value]="5">
                                                    ฉีดพ่นสารกำจัดศัตรูพืช
                                                </mat-option>
                                                <mat-option [value]="6">
                                                    ใส่ปุ๋ย
                                                </mat-option>
                                                <mat-option [value]="7">
                                                    ตัดอ้อย
                                                </mat-option>
                                                <mat-option [value]="8">
                                                    ขนส่งอ้อย
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="flex flex-row" *ngFor="let item of cane; let i = index">
                                    <div>
                                        <div class="flex flex-col w-30 mt-[30px]">
                                            <span
                                                class="ml-5 mb-4 text-base font-semibold leading-none text-gray-500 dark:text-gray-500 ">{{item.date}}</span>
                                            <span
                                                class="ml-5 mb-4 text-base font-semibold leading-none text-gray-500 dark:text-gray-500 ">{{item.time}}</span>
                                        </div>
                                    </div>
                                    <div class="flex flex-col w-full">
                                        <div class="flex">
                                            <ol
                                                class="relative border-s-2  border-[#122437] dark:border-gray-700 w-full">
                                                <li class="mb-10 ms-4 grid-cols-3">
                                                    <div
                                                        class="absolute -left-2.5 w-5 h-5 bg-[#122437] rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-[#122437]">
                                                    </div>
                                                    <div class="flex flex-row justify-between mt-5">
                                                        <!-- <div class="flex items-center ml-5 justify-center">
                                                            <p
                                                                class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                {{activity}}</p>
                                                        </div> -->
                                                        <!-- <div
                                                            class=" tracking-tight leading-7 sm:leading-10 truncate mb-5 first-line:">
                                                            <button (click)="goToedit(i)"
                                                                class="border-2 border-gray-900 rounded-md font-black hover:bg-slate-50 w-fit mx-2">
                                                                <span class="mx-5 text-gray-900">แก้ไข</span>
                                                            </button>
                                                            <button
                                                                class="border-2 border-red-500 rounded-md font-black hover:bg-slate-50 w-fit mx-2">
                                                                <span class="mx-5 text-red-600">ลบ</span>
                                                            </button>
                                                        </div> -->
                                                    </div>
                                                    <ng-container *ngIf="item.activitytype == 0">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ไถและเตรียมดิน</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        การปรับปรุงดิน {{item?.soilImprovement || "-"}}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ประเภทการไถ {{item?.plowingtype || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ชนิดการไถ {{item?.subtypeplowing || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าสารกำจัดศัตรูพืช {{item?.insecticidecost ||
                                                                        "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าจ้างแรงงาน {{item?.equipmentrent || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าเช่าอุปกรณ์ {{item?.laborwages || "-"}}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4  ">
                                                                        ค่าเชื้อเพลิง {{item?.fuelcost || "-"}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 1">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ปลูกอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">พันธุ์อ้อย {{ item?.sugarcane || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ระบบปลูก {{ item?.plantingsystem ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าใช้จ่าย {{ item?.expenses || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าพันธุ์อ้อย {{ item?.sugartypecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าปลูกอ้อย {{
                                                                        item?.sugarcaneplantingcost || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าปุ๋ย {{ item?.fertilizercost ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 2">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ให้น้ำ</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ระบบน้ำ {{ item?.wateringsystem ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>


                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 3">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ฉีดพ่นน้ำหมักปุ๋ยยูเรีย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ยยูเรีย {{
                                                                        item?.fertilizerquantity || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ส่วนผสมอื่นๆ {{
                                                                        item?.otheringredients || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ยยูเรีย {{
                                                                        item?.amountureafertilizer || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ยาฆ่าหญ้า {{ item?.herbicide || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทอื่นๆ {{ item?.othertypes ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าใช้จ่ายส่วนผสมอื่นๆ {{
                                                                        item?.otheringredientcosts || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่ายาฆ่าหญ้า {{ item?.herbicidecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>
                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 4">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ฉีดพ่นสารกำจัดศัตรูพืช</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">วัชพืช {{ item?.weed || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">โรคพืช {{ item?.plantdiseases || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">แมลงศัตรูพืช {{ item?.pests || "-"
                                                                        }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่ายาฆ่าแมลง {{ item?.pesticidecost
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 5">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ใส่ปุ๋ย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทปุ๋ย {{ item?.fertilizertype
                                                                        || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปุ๋ย {{ item?.fertilizer || "-" }}
                                                                    </p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ปริมาณปุ๋ย {{
                                                                        item?.fertilizerquantity || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 6">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ตัดอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทการตัด {{ item?.cuttingtype ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ประเภทอ้อย {{ item?.sugarcanetype ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงานตัดอ้อย {{
                                                                        item?.sugarcanecuttinglabor || "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="item.activitytype == 7">
                                                        <div class="flex flex-row justify-between mt-5">
                                                            <div class="flex items-center ml-5 justify-center">
                                                                <p
                                                                    class="mb-4  text-base font-bold text-gray-900 dark:text-gray-400">
                                                                    ขนส่งอ้อย</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="grid grid-cols-10 gap-2 justify-between mt-5 text-gray-400 font-normal">
                                                            <div
                                                                class="col-span-7 grid grid-cols-4 gap-4 justify-between mt-5 text-gray-400 font-normal">
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าจ้างแรงงาน {{ item?.laborwages ||
                                                                        "-" }}</p>
                                                                </div>
                                                                <div class="flex items-center ml-5 justify-start">
                                                                    <p class="mb-4">ค่าเชื้อเพลิง {{ item?.fuelcost ||
                                                                        "-" }}</p>
                                                                </div>

                                                            </div>
                                                            <div class="col-span-3 flex justify-center items-center m-2"
                                                                *ngIf="imageUrl">
                                                                <img [src]="imageUrl" alt="รูปภาพ"
                                                                    class="w-40 h-auto border border-gray-300 rounded-md"
                                                                    (click)="openImage(imageUrl)">
                                                            </div>
                                                        </div>
                                                    </ng-container>

                                                    <mat-divider></mat-divider>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="แปลงผสม">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div class="sm:col-span-1 flex flex-col flex-auto p-2 bg-[#0e1f3d] shadow rounded-md overflow-hidden text-white mb-2"
                                *ngFor="let item of myplots; let i = index">
                                    <p>{{item.plot_no ?? ''}}</p>
                                    <div *ngFor="let map of item.co_or_points; let i = index">
                                        <p>{{map[0] ?? ''}}</p>
                                        <p>{{map[1] ?? ''}}</p>
                                        <p class="mb-1  text-white border-t-[1px]"></p>
                                        
                                    </div>
                            </div>

                        </div>
                    </ng-template>
                </mat-tab>
                <mat-tab label="CCS">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                            <div
                                class="sm:col-span-2 md:col-span-3 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-start justify-between">
                                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                                    </div>
                                </div>
                                <div>
                                    <full-calendar [options]="calendarOptions"></full-calendar>
                                </div>
                            </div>
                            <div
                                class="sm:col-span-1 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                                <div class="flex flex-col sm:flex-row items-center justify-between mb-3">
                                    <div
                                        class="flex items-center justify-center text-lg font-medium tracking-tight leading-6 truncate w-full">
                                        <span class="text-center">แสดงข้อมูล CCS</span>
                                    </div>
                                </div>
                                <mat-divider class="w-full mb-3"></mat-divider>
                                <div *ngIf="ccsData && ccsData.length > 0">
                                    <div class="sm:col-span-1 flex flex-col flex-auto p-2 bg-[#0e1f3d] shadow rounded-md overflow-hidden text-white mb-2"
                                        *ngFor="let item of ccsData; let i = index">
                                        <div class="flex flex-row justify-between  text-sm">
                                            <div class="">
                                                <!-- <p class=" text-white">{{(item.CCS_Date | date: 'dd MMMM yyyy') ?? ''}}</p> -->
                                                <p class=" text-white">{{(item.CCS_Date | thaiDate) ?? ''}}</p>
                                            </div>
                                            <div class="">
                                                <p class=" text-white">ทะเบียนรถ : {{item.truck_registration ?? ''}}</p>
                                            </div>
                                        </div>
                                        <div class="flex flex-row justify-between mt-2 border-t-[1px] ">
                                            <div class="w-2/3 text-sm">
                                                <p class="mb-1  text-white ">
                                                    บิลอ้อย : {{item.bill_no ?? ''}}</p>
                                                <p class="mb-1  text-white border-t-[1px]">
                                                    ประเภทอ้อย : {{item.sugarcane_type ?? ''}}</p>
                                                <p class="mb-1  text-white border-t-[1px]">
                                                    เลขที่ตัวอย่าง : {{item.sample_no ?? ''}}</p>
                                                <p class="mb-1  text-white border-t-[1px]">
                                                    น้ำหนักสุทธิ : {{item.net_weight ?? ''}}</p>
                                            </div>
                                            <div class="flex w-1/3 justify-center font-semibold ">
                                                <div class="flex flex-col border-l-[2px] my-5">
                                                    <div class="flex justify-center ml-4 items-center">
                                                        <p class=" text-sm text-white">
                                                            ค่า CCS </p>
                                                    </div>
                                                    <div class="flex justify-center">
                                                        <p class="text-center text-sm text-white">
                                                            {{item.ccs_value ?? ''}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="!ccsData || ccsData.length === 0">
                                    <p>No data in month.</p>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>